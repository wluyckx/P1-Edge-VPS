# =============================================================================
# P1-Edge-VPS Environment Variables
# Copy this file to .env and fill in real values. Never commit .env!
# =============================================================================

# --- Edge Configuration ---
HW_P1_HOST=192.168.1.x          # HomeWizard P1 meter IP address (LAN)
HW_P1_TOKEN=your-hw-token-here  # HomeWizard Local API v2 bearer token
VPS_INGEST_URL=https://your-vps-domain.com  # VPS base URL for ingestion
VPS_DEVICE_TOKEN=your-device-token-here     # Per-device bearer token for VPS auth
DEVICE_ID=device-1               # Device ID sent in samples (must match VPS DEVICE_TOKENS mapping; defaults to HW_P1_HOST)
POLL_INTERVAL_S=2                # Seconds between P1 polls (default: 2)
BATCH_SIZE=30                    # Max samples per upload batch (default: 30)
UPLOAD_INTERVAL_S=10             # Seconds between upload attempts (default: 10)

# --- VPS Configuration ---
DATABASE_URL=postgresql+asyncpg://p1:your-password@postgres:5432/p1  # PostgreSQL + TimescaleDB (asyncpg driver)
REDIS_URL=redis://redis:6379/0   # Redis connection string
DEVICE_TOKENS=tokenA:device-1,tokenB:device-2  # Comma-separated token:device_id pairs
CACHE_TTL_S=5                    # Redis cache TTL in seconds (default: 5)

# --- PostgreSQL (used by docker-compose.vps.yml) ---
POSTGRES_USER=p1
POSTGRES_PASSWORD=your-password
POSTGRES_DB=p1
